<?xml version="1.0" encoding="UTF-8"?>

<!--
  Copyright (C) 2008 Carlos III University of Madrid
  This file is part of Adagio: Agile Distributed Authoring Integrated Toolkit

  This program is free software; you can redistribute it and/or
  modify it under the terms of the GNU General Public License
  as published by the Free Software Foundation; either version 2
  of the License, or (at your option) any later version.

  This program is distributed in the hope that it will be useful,
  but WITHOUT ANY WARRANTY; without even the implied warranty of
  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
  GNU General Public License for more details.

  You should have received a copy of the GNU General Public License
  along with this program; if not, write to the Free Software
  Foundation, Inc., 51 Franklin Street, Fifth Floor
  Boston, MA  02110-1301, USA.

-->
<!DOCTYPE section PUBLIC "-//OASIS//DTD DocBook XML V4.3//EN"
"http://www.oasis-open.org/docbook/xml/4.3/docbookx.dtd">

<!-- ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++ -->
<!--                                                              -->
<!--                    INSTALLATION IN WINDOWS                   -->
<!--                                                              -->
<!-- ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++ -->
<section id="Installing_Adagio_in_Windows"
         xreflabel="Top of the Section">
  <title>Installing Adagio in Windows</title>
  <qandaset>
    <qandaentry id="requiredapplicationsinwindows">
      <question>
        <para>Which packages are needed in a Windows system before installing
	Adagio?</para>
      </question>
      <answer>
        <para>Adagio is installed using the version control system
        <command>git</command>. The minimum set of packages to install and use
        Adagio are:</para>

        <itemizedlist id="tool_requirements">
          <listitem>
            <para><command>msysgit</command>: The windows version of GIT a Fast
            version control system used to download the latest Adagio
            version.</para>

	    <para>Go to the <ulink
	    url="http://code.google.com/p/msysgit/">msysgit project
	    page</ulink>, download the installer (link to a file with extention
	    <quote>exe</quote> in the left side of the page), execute it in your
	    machine and you have GIT already installed.</para>

          </listitem>
	  <listitem>
	    <para><command>Python</command>: A language interpreter and its
	    corresponding libraries.</para>

	    <para>Go to the page to <ulink
	    url="http://www.python.org/getit/">download python</ulink>. Download
	    the windows installer for version 2.7.2 (do NOT download any version
	    beyon this one). Check that python is properly installed by opening
	    a command windows and typing the command</para>

	    <programlisting>$ <command>python --version</command>
Python 2.7.2
$</programlisting>

            <para>The current Python version should appear on the screen.</para>
	  </listitem>
	  <listitem>
	    <para><command>python-lxml</command>: Python bindings for
	    <command>libxml2</command> and <command>libxslt</command>
	    libraries.</para>
	  </listitem>
	  <listitem>
	    <para><command>python-libxml2</command>: Python bindings for the
	    GNOME XML library.</para>
	  </listitem>
          <listitem>
            <para><command>docbook-xml</command>: Docbook XML DTDs.</para>
          </listitem>
          <listitem>
            <para><command>docbook-xsl</command>: XSL stylesheets to process
            DocBook.</para>
          </listitem>
          <listitem>
            <para><command>openssh-client</command>: SSH client program to
            connect to remote sites.</para>
          </listitem>
        </itemizedlist>

	<para>TO REWRITE</para>

        <para>Aside from these three tools, Adagio allows to process certain
        file types if some additional programs are installed. For example,
        translating figures from <ulink
        url="http://en.wikipedia.org/wiki/Scalable_Vector_Graphics">SVG</ulink>
        to <ulink url="en.wikipedia.org/wiki/PNG">PNG</ulink> can be done using
        <command>Inkscape</command> but it needs to be properly installed and
        available for execution.</para>
      </answer>
    </qandaentry>

    <qandaentry id="how_to_install_python"
		xreflabel="Python has been installed">
      <question>
        <para>How to install Python in Windows?</para>
      </question>
      <answer>
	<para>TO BE WRITTEN</para>
      </answer>
    </qandaentry>

    <qandaentry id="howtoinstallpackages" xreflabel="How to install other packages">
      <question>
        <para>I got Java already installed, What else is required to run
        Adagio?</para>
      </question>
      <answer>
	<para>TO BE REWRITTEN</para>
        <para>Once <xref linkend="how_to_install_jre"/>, the next step is to
        download the <command>Cygwin</command> tool, a Linux-like environment
        for Windows. Once downloaded, the initial page of the installer is shown
        in the following figure.</para>
      </answer>
    </qandaentry>

    <qandaentry id="Fetch_adagio_in_windows">
      <question>
        <para>All the required packages are installed. How do I install
        Adagio?</para>
      </question>
      <answer>
	<para>TO BE REWRITTEN</para>
        <para>Open a Cygwin shell and go to the directory where you want Adagio
        installed (a directory with name <filename>Adagio</filename> will be
        created. The computer needs to be connected to the net. Execute the
        command:</para>

        <programlisting id="git_install_command_windows">$ <command>git clone https://github.com/abelardopardo/Adagio.git</command></programlisting>

        <para>A list of messages appear on the screen. After a while (depending
        on the speed of your net connection), the command terminates and a new
        directory with name <filename>Adagio</filename> has been created
        containing all the required files.</para>
        <para>In order to make Adagio available, the PATH environment variable
        needs to be modified by adding the path to the <filename>bin</filename>
        directory. You may follow the same procedure described in the <xref
        linkend="install_ant"/>.</para>

        <para>Once the environment variable <command>PATH</command> has been
        modified to include the <filename>bin</filename> directory within
        Adagio, open a brand new Cygwin shell and type the following
        command</para>
        
        <programlisting>$ <command>which adagio</command></programlisting>
        
        <para>As in the case of the <xref linkend="install_ant"/>, if the answer
        is a single path to the <filename>adagio</filename> file similar
        to:</para>

        <programlisting>/home/youruser/Adagio/bin/adagio</programlisting>
        
        <para>Adagio is properly installed. If the message says <quote>which: no
        adagio in (/usr/local/bin:/usr/bin:/....)</quote>, Adagio is not
        available for execution and you need to review your installation.</para>

        <para>The final step to make sure that the commands provided by Adagio
        are available is to <xref linkend="run_adagiocheck"/>.</para>
      </answer>
    </qandaentry>

    <qandaentry>
      <question>
        <para>A new version of Adagio has been published, how do I
        upgrade?</para>
      </question>

      <answer>
	<para>There are two ways to obtain the new version: using the command
	interpreter and with the graphic interface. To update using the command
	interpreter read <xref linkend="new_version_upgrade_cli"/>.</para>

	<para>To update Adagio using the graphic interface, open the repository
	where Adagio is installed. Select the menu option
	<command>Remote-&gt;fetch from-&gt;origin</command>.</para>
      </answer>
    </qandaentry>
  </qandaset>
</section>

<!--
Local Variables:
compile-command: "adagio"
End:
-->
