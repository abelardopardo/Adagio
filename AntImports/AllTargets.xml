<?xml version="1.0" encoding="UTF-8"?>

<project name="Gather all target definitions" default="execute">

  <import file="InitialCheck.xml"/>

<!--   <import file="Mergestyles.xml"/> -->
<!--   <import file="Xsltproc.xml"/> -->
<!--   <import file="Docbook.xml"/> -->
<!--   <import file="BilingualDB.xml"/> -->
<!--   <import file="Cleaning.xml"/> -->
<!--   <import file="Convert.xml"/> -->
  <import file="Copyfiles.xml"/>
<!--   <import file="Dblatex.xml"/> -->
<!--   <import file="Dvi2bitmap.xml"/> -->
<!--   <import file="Dvips.xml"/> -->
<!--   <import file="Latex.xml"/> -->
<!--   <import file="Exam.xml"/> -->
<!--   <import file="ExportControl.xml"/> -->
<!--   <import file="Export.xml"/> -->
<!--   <import file="ExtraAnt.xml"/> -->
<!--   <import file="Gimp.xml"/> -->
  <import file="Inkscape.xml"/>
<!--   <import file="SubRecursive.xml"/> -->
<!--   <import file="Laboratory.xml"/> -->
<!--   <import file="Pdflatex.xml"/> -->
<!--   <import file="PDFnup.xml"/> -->
<!--   <import file="Ppt2PDF.xml"/> -->
<!--   <import file="Ps2pdf.xml"/> -->
<!--   <import file="Rss.xml"/> -->
<!--   <import file="Scp.xml"/> -->
<!--   <import file="TestExam.xml"/> -->
  <import file="Xfig.xml"/>

<!--   <import file="Rsync.xml"/> -->

<!-- 	  depends="xfig.processing" -->
  <target name="do.nothing"
	  >
    <ant antfile="${ada.home}/AntImports/Xfig.xml"
	 target="xfig.processing"
	 inheritAll="false"/>
<!--     <antcall target="xfig.processing"/> -->
  </target>

  <target name="local.execute" 
	  depends="initial.delete.build.out,
		   copyfiles.processing">

<!--     <antcall target="copyfiles.processing" inheritAll="false"/> -->

    <antcall target="extraant.processing" inheritAll="false">
      <param name="extraant.target" value="${extraant.pretarget}"/>
    </antcall>

    <antcall target="xfig.processing" inheritAll="false"/>

    <antcall target="inkscape.processing" inheritAll="false"/>

    <antcall target="gimp.processing" inheritAll="false"/>

    <antcall target="convert.processing" inheritAll="false"/>

    <antcall target="xsltproc.processing" inheritAll="false"/>

    <antcall target="docbook.processing" inheritAll="false"/>

    <antcall target="bilingualdb.processing" inheritAll="false"/>

    <antcall target="laboratory.processing" inheritAll="false"/>

    <antcall target="exam.processing" inheritAll="false"/>

    <antcall target="testexam.processing" inheritAll="false"/>

    <antcall target="rss.processing" inheritAll="false"/>

    <antcall target="latex.processing" inheritAll="false"/>

    <antcall target="dvips.processing" inheritAll="false"/>

    <antcall target="ps2pdf.processing" inheritAll="false"/>

    <antcall target="pdflatex.processing" inheritAll="false"/>

    <antcall target="dblatex.processing" inheritAll="false"/>

    <antcall target="ppt2pdf.processing" inheritAll="false"/>

    <antcall target="pdfnup.processing" inheritAll="false"/>

    <antcall target="extraant.processing" inheritAll="false">
      <param name="extraant.target" value="${extraant.posttarget}"/>
    </antcall>

    <antcall target="export.processing" inheritAll="false"/>

  </target>

  <!-- Apply timeline -->
  <target name="execute" depends="initial.delete.build.out">

    <echo>BEGIN EXE: ${basedir}</echo>

    <antcall target="subrecursive.processing" inheritAll="false"/>

    <antcall target="local.execute"/>

    <echo>END EXE: ${basedir}</echo>
  </target>

  <target name="local.clean" depends="initial.delete.build.out">

    <echo>BEGIN CLEAN: ${basedir}</echo>

    <antcall target="export.clean" inheritAll="false"/>

    <antcall target="extraant.processing" inheritAll="false">
      <param name="extraant.target" value="${extraant.posttarget.clean}"/>
    </antcall>

    <antcall target="pdfnup.clean" inheritAll="false"/>

    <antcall target="ppt2pdf.clean" inheritAll="false"/>

    <antcall target="dblatex.clean" inheritAll="false"/>

    <antcall target="pdflatex.clean" inheritAll="false"/>

    <antcall target="ps2pdf.clean" inheritAll="false"/>

    <antcall target="dvips.clean" inheritAll="false"/>

    <antcall target="latex.clean" inheritAll="false"/>

    <antcall target="rss.clean" inheritAll="false"/>

    <antcall target="testexam.clean" inheritAll="false"/>

    <antcall target="exam.clean" inheritAll="false"/>

    <antcall target="laboratory.clean" inheritAll="false"/>

    <antcall target="bilingualdb.clean" inheritAll="false"/>

    <antcall target="docbook.clean" inheritAll="false"/>

    <antcall target="xsltproc.clean" inheritAll="false"/>

    <antcall target="convert.clean" inheritAll="false"/>

    <antcall target="gimp.clean" inheritAll="false"/>

    <antcall target="inkscape.clean" inheritAll="false"/>

    <antcall target="xfig.clean" inheritAll="false"/>

    <antcall target="extraant.processing" inheritAll="false">
      <param name="extraant.target" value="${extraant.pretarget.clean}"/>
    </antcall>
 
    <antcall target="copyfiles.clean" inheritAll="false"/>

  </target>

  <target name="redo" depends="clean, execute"/>

  <target name="clean" depends="local.clean">

    <antcall target="subrecursive.clean" inheritAll="false"/>

    <antcall target="export.garbage.clean" inheritAll="false"/>
    
    <antcall target="clean.clean" inheritAll="false"/>
    
    <echo>END CLEAN: ${basedir}</echo>

  </target>

  <target name="report">

    <antcall target="ada.properties.init.dump">
      <param name="ada.debug.level" value="warning"/>
    </antcall>
    <echo/>

    <echo>Tool               | Installed |  Missing</echo>
    <echo>-------------------+-----------+-----------------------------</echo>

    <antcall target="xfig.report" inheritAll="false"/>

    <echo>-------------------+-----------+-----------------------------</echo>

    <antcall target="inkscape.report" inheritAll="false"/>

    <echo>-------------------+-----------+-----------------------------</echo>

    <antcall target="gimp.report" inheritAll="false"/>

    <echo>-------------------+-----------+-----------------------------</echo>

    <antcall target="convert.report" inheritAll="false"/>

    <echo>-------------------+-----------+-----------------------------</echo>

    <antcall target="xsltproc.report" inheritAll="false"/>

    <echo>-------------------+-----------+-----------------------------</echo>

    <antcall target="latex.report" inheritAll="false"/>

    <echo>-------------------+-----------+-----------------------------</echo>

    <antcall target="dvips.report" inheritAll="false"/>

    <echo>-------------------+-----------+-----------------------------</echo>

    <antcall target="ps2pdf.report" inheritAll="false"/>

    <echo>-------------------+-----------+-----------------------------</echo>

    <antcall target="pdflatex.report" inheritAll="false"/>

    <echo>-------------------+-----------+-----------------------------</echo>

    <antcall target="dblatex.report" inheritAll="false"/>

    <echo>-------------------+-----------+-----------------------------</echo>

    <antcall target="ppt2pdf.report" inheritAll="false"/>

    <echo>-------------------+-----------+-----------------------------</echo>

    <antcall target="pdfnup.report" inheritAll="false"/>

    <echo>-------------------+-----------+-----------------------------</echo>

  </target>

</project>
